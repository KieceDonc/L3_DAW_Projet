\documentclass[a4paper,10pt]{article}
%\documentclass[a4paper,10pt]{scrartcl}
\usepackage{graphicx}
\usepackage[utf8]{inputenc}
\usepackage{listings}
\usepackage{hyperref}
\usepackage{indentfirst}
\usepackage{float}

\title{
Rapport de développement d'applications Web\\
Projet 2022 : Création d'un site de formation
}
\author{
Bertoux Hugo, Hamidou Nazim, Verstracte Valentin\\
Petit Evan, Perion Maxence, Pinon Alexandre
}
\date{}

\renewcommand*\contentsname{Sommaire}
\renewcommand{\listfigurename}{Liste des images}%

\begin{document}

\maketitle 
\tableofcontents

\newpage
\section{Introduction}
L'objectif de ce projet a été de réaliser un site de formation destiné à des apprenants/étudiants. Nous avons basé la construction de notre site autour d'un jeu vidéo nommé ``League Of Legends" et c'est pour cette raison que nous avons décidé de l'appeler ``E-lolning". Il se calque sur le fonctionnement de plusieurs sites de coaching en esport comme https://www.skill-capped.com/lol/ 
Dans ce rapport, nous allons aborder tous les aspects de la conception de notre site, c'est-à-dire que nous allons aussi bien expliquer la modélisation, le modèle MVC utilisé et tout ce qui peut-être fait sur notre site. Il est important de rappeler qu'un site de formation en ligne ou site d'e-learning dans notre cas pour un jeu vidéo, permet aux utilisateurs de celui-ci de développer leurs compétences en participant à différents cours et discuter à propos de ce même cours dans un forum entre apprenants. Dans notre cas, nous donnons également la possibilité de créer un cours à qui le souhaite afin de partager son savoir et ses connaissances. 

\section{La gestion du projet}
Qui a fait quoi ? Comment on a repartie les taches ? Reunion ? Trello qui a permis d'organiser l'ensemble

\section{La modélisation}
Diagramme use case
Diagramme de classe

\section{Notre installation}
Serveur Lamp chez Valentin

\section{La charte graphique}
Les couleurs et le texte choisir avec le site : https://coolors.co/

\section{L'architecture MVC}
\subsection{Modèle}
Dans notre projet, les Contrôleurs appellent les Modèles pour deux raisons: Aller chercher des données dans la base de donnée dans la plupart des cas, ou bien les fichiers XML stockés sur notre serveur.\\
Dans ces deux cas, nous utilisons les fonctions natives à PHP qui permettent de dialoguer avec la base de données MySQL et de modifier, créer ou supprimer des fichiers sur le serveur.
\subsection{Vue}
Les vues permettent l'affichage des pages HTML au client grâce à php. Ce sont des fichiers PHP qui vérifient les droits de l'utilisateur courant grâce aux différents cookies, et sessions (est-ce un administrateur? est-il connecté?), et appelle diverses fonctions vis-à-vis de ces droits pour afficher certains éléments de la page : \\
Un utilisateur connecté n'a pas besoin de voir le bouton "se connecter", un élève ne doit pas avoir accès au bouton "modifier le cours" ou "ajouter une leçon".\\ \\
Lorsque certaines données ont besoin d'être récupérées, par exemple pour afficher le contenu d'un cours, le pseudo de tous les utilisateurs, etc... Un appel est fait au contrôleur correspondant.
\subsection{Contrôleur}
Les contrôleurs sont des fichiers PHP qui permettent de faire appel aux modèles via les vues. Les données récupérées sont souvent brutes (les tables clé-valeur qui sont retournées par MySQL par exemple)//
Avec les contrôleurs, nous nous assurons que les données récupérées sont traitées et affichables à l'utilisateur afin que la vue puisse l'afficher correctement.

\section{Les cours}
\subsection{Quizz}
Les quiz vont être proposés pour les apprenants. Les quiz doivent être sous le format XML, on va donc partir sur un document XML par cours .Celui-ci sera créer a la création du cours.
Voici la DTD de notre quiz : 
\begin{lstlisting}[language=XML]
  <?xml version="1.0" encoding="UTF-8"?>
  <!ELEMENT Questionnaire (question+)>
  <!ATTLIST Questionnaire chapitre NMTOKEN #REQUIRED>
  <!ATTLIST Questionnaire Nom CDATA #REQUIRED>
  <!ELEMENT question (difficulte,intitule,choix+,reponse+)>
  <!ATTLIST question id NMTOKEN #REQUIRED>
  <!ELEMENT difficulte (#PCDATA)>
  <!ELEMENT intitule (#PCDATA)>
  <!ELEMENT choix (#PCDATA)>
  <!ATTLIST choix id NMTOKEN #REQUIRED>
  <!ELEMENT reponse (#PCDATA)>
\end{lstlisting}
On peut donc voir qu'une question aura un id associé, une difficulté, son intitulé ainsi que 4 choix et sa réponse.
Et donc lors de la création du cours, un document XML de cette forme sera créer : 
\begin{lstlisting}[language=XML]
  <?xml version="1.0" encoding="UTF-8"?>
  <!DOCTYPE Questionnaire SYSTEM "quiz.dtd">
  <Questionnaire chapitre="idducours" Nom="nomducours"> 
  </Questionnaire>
\end{lstlisting} 

Ainsi l'administrateur de son cours pourra par la suite venir ajouter ou supprimer des questions de son cours. 

Du côté des apprenants, ils pourront passer le quiz dans le cours associé. La liste des questions s'affichera et ils pourront y répondre en cliquant sur le choix qui veulent faire et ensuite valider le questionnaire.
A la fin , ils verront leurs notes et pourront repasser le test s'ils ont envie de faire mieux.
\subsection{Forum}
Le forum permet la discussion entre apprenants. Il est global et les utilisateurs peuvent créer un nouveau sujet ou répondre dans un déjà créé s'ils sont connectés. Ils peuvent également consulter la liste des sujets et les messages dans ceux-ci. Les utilisateurs connectés ont également la possibilité de modifier ou supprimer les sujets et les messages dont ils sont les auteurs.

\section{Les apprenants}

\section{Les administrateurs}


\section{Les options}
\subsection{Multilingue}
FR et EN pour tous les utilisateurs 

\subsection{Thèmes}
Notre site d'e-learning possède une option qui permet de changer de thèmes, c'est-à-dire passer du thème clair (thème par défaut) au thème sombre. Les différents thèmes sont utilisables par tous les utilisateurs à leur bon vouloir. L'intérêt d'utiliser des thèmes sont les suivants: le thème sombre permet d’abord de réduire la fatigue des yeux, de plus les différents thèmes sont plus approprié à certaines conditions par exemple en pleine nuit le thème sombre sera plus apprécié.\\

Les utilisateurs peuvent changer de thèmes par l'intermédiaire de ce bouton:
\begin{figure}[!h]
\centerline{
    \includegraphics[width=4cm]{images/boutonThemeClaire.PNG}
    \includegraphics[width=4cm]{images/boutonThemeSombre.PNG}
}
\caption{Bouton en mode thème clair}
\caption{Bouton en mode thème sombre}
\label{fig}
\end{figure}

Le fonctionnement des thèmes est assez simple, en effet il nous suffit de déclarer 2 fichiers css que nous avons nommée respectivement "lightMode.css" et "darkMode.css". Et dans ces fichiers déclarer des variables avec "--nomVariable". Pour ces deux fichiers les variables doivent avoir le même nom mais avoir évidemment des valeurs différentes. Une fois ceci effectue, nous allons utiliser seulement les variables contenus dans les fichiers "lightMode.css" ou "darkMode.css" via différentes fonctions jQuerry créé par nos propres moyens. Finalement pour avoir un thème permanent et ne pas avoir besoin de repasser dans le thème souhaité à chaque rafraîchissement de la page, nous avons utilisé un cookie. Ce cookie permet de stocker la valeur du thème choisie et avec le traitement de nos fonctions en jQuerry chargé le bon thème.

Dernièrement dans les fichiers css qui vont organiser nos différentes pages nous allons utiliser cette syntaxe: "var(--nomVariable)", qui aura une valeur différente en fonction du thème choisie.\\

Pour illustrer ce qui a précédemment été vue, voyons avec un exemple concret, définissons une variable "--background-color: \#FFFFFF;" pour le thème clair et "--background-color: \#000000;" pour le thème sombre. Maintenant dans un fichier css quelconque on peut utiliser ceci:
\begin{lstlisting}[language=HTML]
  body{
    background-color: var(--background-color);
  }
\end{lstlisting}
Si le thème clair est utilisé alors la couleur de fond aura pour valeur FFFFFF c'est-à-dire blanc, et dans le cas contraire pour le thème sombre la couleur de fond aura pour valeur 000000 c'est-à-dire noir.

\subsection{Décompte des visiteurs}
Compteur du nombre de visiteur via fichier et non BDD.

\section{Conclusion}


\end{document}
